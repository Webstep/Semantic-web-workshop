@prefix hvens:  <http://example.com/hvens#> .
@prefix ex:     <http://example.com/hvens/ex#> .
@prefix rdfs:   <http://www.w3.org/2000/01/rdf-schema#> .
@prefix owl:    <http://www.w3.org/2002/07/owl#> .
@prefix xsd:    <http://www.w3.org/2001/XMLSchema#> .
@prefix skos:   <http://www.w3.org/2004/02/skos/core#> .
@prefix sh:     <http://www.w3.org/ns/shacl#> .

#######################################################
# System 50 – Seawater (standalone; no owl:imports)
# This file re-declares the minimal classes/properties used
# so it can be loaded independently of the ENS core.
#######################################################

hvens: a owl:Ontology ;
  rdfs:label "ENS – System 50 (Seawater)" ;
  rdfs:comment "Standalone ENS model of System 50 (equipment, requirements, loops, setpoints, alarms). No owl:imports." .

########## Core classes (minimal) ##########
hvens:Area            a owl:Class .
hvens:SystemGroup     a owl:Class .
hvens:System          a owl:Class .
hvens:Discipline      a owl:Class .
hvens:EquipMainGroup  a owl:Class .
hvens:EquipSubGroup   a owl:Class .
hvens:Tag             a owl:Class .
hvens:EquipmentTag    a owl:Class ; rdfs:subClassOf hvens:Tag .
hvens:InstrumentTag   a owl:Class ; rdfs:subClassOf hvens:Tag .
hvens:ValveTag        a owl:Class ; rdfs:subClassOf hvens:Tag .
hvens:LineNumber      a owl:Class ; rdfs:subClassOf hvens:Tag .

########## Extensions used here ##########
hvens:Requirement    a rdfs:Class .
hvens:ControlLoop    a rdfs:Class .
hvens:Setpoint       a rdfs:Class .
hvens:Alarm          a rdfs:Class .

########## Properties ##########
hvens:code            a owl:DatatypeProperty ; rdfs:range xsd:string .
hvens:number          a owl:DatatypeProperty ; rdfs:range xsd:string .
hvens:label           a owl:DatatypeProperty ; rdfs:range xsd:string .
hvens:parentArea      a owl:ObjectProperty ; rdfs:domain hvens:Area ; rdfs:range hvens:Area .
hvens:inArea          a owl:ObjectProperty ; rdfs:domain hvens:Tag ; rdfs:range hvens:Area .
hvens:inSystem        a owl:ObjectProperty ; rdfs:domain hvens:Tag ; rdfs:range hvens:System .
hvens:inSystemGroup   a owl:ObjectProperty ; rdfs:domain hvens:System ; rdfs:range hvens:SystemGroup .
hvens:discipline      a owl:ObjectProperty ; rdfs:domain hvens:Tag ; rdfs:range hvens:Discipline .
hvens:hasEquipMain    a owl:ObjectProperty ; rdfs:domain hvens:EquipSubGroup ; rdfs:range hvens:EquipMainGroup .
hvens:hasEquipClass   a owl:ObjectProperty ; rdfs:domain hvens:EquipmentTag ; rdfs:range hvens:EquipSubGroup .
hvens:hasRequirement  a rdfs:Property ; rdfs:domain hvens:Tag ; rdfs:range hvens:Requirement .
hvens:hasLoop        a rdfs:Property ; rdfs:domain hvens:Tag ; rdfs:range hvens:ControlLoop .
hvens:hasSetpoint    a rdfs:Property ; rdfs:domain hvens:ControlLoop ; rdfs:range hvens:Setpoint .
hvens:hasAlarm       a rdfs:Property ; rdfs:domain hvens:ControlLoop ; rdfs:range hvens:Alarm .
hvens:controls       a rdfs:Property ; rdfs:domain hvens:ControlLoop ; rdfs:range hvens:Tag .
hvens:measuredVar    a rdfs:DatatypeProperty ; rdfs:range xsd:string .
hvens:unit           a rdfs:DatatypeProperty ; rdfs:range xsd:string .
hvens:value          a rdfs:DatatypeProperty ; rdfs:range xsd:double .
hvens:lowAlarm       a rdfs:DatatypeProperty ; rdfs:range xsd:double .
hvens:highAlarm      a rdfs:DatatypeProperty ; rdfs:range xsd:double .

# engineering data
hvens:designFlow_m3h         a rdfs:DatatypeProperty ; rdfs:range xsd:double .
hvens:normalFlow_m3h         a rdfs:DatatypeProperty ; rdfs:range xsd:double .
hvens:minFlow_m3h            a rdfs:DatatypeProperty ; rdfs:range xsd:double .
hvens:operatingPressure_barg a rdfs:DatatypeProperty ; rdfs:range xsd:double .
hvens:diffPressure_barg      a rdfs:DatatypeProperty ; rdfs:range xsd:double .
hvens:power_kW               a rdfs:DatatypeProperty ; rdfs:range xsd:double .
hvens:locationDepth_m        a rdfs:DatatypeProperty ; rdfs:range xsd:double .
hvens:designTempMin_C        a rdfs:DatatypeProperty ; rdfs:range xsd:double .
hvens:designTempMax_C        a rdfs:DatatypeProperty ; rdfs:range xsd:double .
hvens:micronRating           a rdfs:DatatypeProperty ; rdfs:range xsd:string .

########## The System ##########
ex:S50 a hvens:System ;
  hvens:number "50" ;
  hvens:label "Seawater system (low–medium pressure)" .

########## Equipment classes used ##########
# Main groups
ex:EG_P a hvens:EquipMainGroup ; hvens:code "P" ; hvens:label "Pumps" .
ex:EG_T a hvens:EquipMainGroup ; hvens:code "T" ; hvens:label "Tanks (atmospheric)" .
ex:EG_C a hvens:EquipMainGroup ; hvens:code "C" ; hvens:label "Misc. mechanical" .
ex:EG_J a hvens:EquipMainGroup ; hvens:code "J" ; hvens:label "Instrument & communication" .

# Subgroups (per ENS)
ex:PH a hvens:EquipSubGroup ; hvens:code "PH" ; hvens:label "Submerged pump w/ non-submerged motor" ; hvens:hasEquipMain ex:EG_P .
ex:PA a hvens:EquipSubGroup ; hvens:code "PA" ; hvens:label "Centrifugal pump" ; hvens:hasEquipMain ex:EG_P .
ex:CA a hvens:EquipSubGroup ; hvens:code "CA" ; hvens:label "Regenerative filter" ; hvens:hasEquipMain ex:EG_C .
ex:TG a hvens:EquipSubGroup ; hvens:code "TG" ; hvens:label "Sump (caisson)" ; hvens:hasEquipMain ex:EG_T .
ex:JV a hvens:EquipSubGroup ; hvens:code "JV" ; hvens:label "Valves (control/on-off/SD/relief)" ; hvens:hasEquipMain ex:EG_J .

########## Equipment instances ##########
# Seawater lift pumps
ex:Tag_50_PH50A a hvens:EquipmentTag ;
  hvens:number "50-PH50A" ; hvens:inSystem ex:S50 ; hvens:hasEquipClass ex:PH ;
  hvens:designFlow_m3h 1460.0 ; hvens:normalFlow_m3h 1200.0 ; hvens:minFlow_m3h 229.0 ;
  hvens:operatingPressure_barg 9.0 ; hvens:diffPressure_barg 16.0 ; hvens:power_kW 700.0 ;
  hvens:locationDepth_m 16.0 .

ex:Tag_50_PH50B a hvens:EquipmentTag ;
  hvens:number "50-PH50B" ; hvens:inSystem ex:S50 ; hvens:hasEquipClass ex:PH ;
  hvens:designFlow_m3h 1460.0 ; hvens:normalFlow_m3h 1200.0 ; hvens:minFlow_m3h 229.0 ;
  hvens:operatingPressure_barg 9.0 ; hvens:diffPressure_barg 16.0 ; hvens:power_kW 700.0 ;
  hvens:locationDepth_m 16.0 .

# Pump sumps / caissons
ex:Tag_50_TG50A a hvens:EquipmentTag ;
  hvens:number "50-TG50A" ; hvens:inSystem ex:S50 ; hvens:hasEquipClass ex:TG ;
  hvens:designTempMin_C -9.0 ; hvens:designTempMax_C 50.0 ; hvens:operatingPressure_barg 0.2 ;
  hvens:locationDepth_m 68.0 .

ex:Tag_50_TG50B a hvens:EquipmentTag ;
  hvens:number "50-TG50B" ; hvens:inSystem ex:S50 ; hvens:hasEquipClass ex:TG ;
  hvens:designTempMin_C -9.0 ; hvens:designTempMax_C 50.0 ; hvens:operatingPressure_barg 0.2 ;
  hvens:locationDepth_m 68.0 .

# Overboard caisson
ex:Tag_50_TG51 a hvens:EquipmentTag ;
  hvens:number "50-TG51" ; hvens:inSystem ex:S50 ; hvens:hasEquipClass ex:TG ;
  hvens:designTempMin_C -9.0 ; hvens:designTempMax_C 50.0 ; hvens:operatingPressure_barg 0.2 ;
  hvens:locationDepth_m 20.0 .

# Hot seawater circulation pumps
ex:Tag_50_PA51A a hvens:EquipmentTag ;
  hvens:number "50-PA51A" ; hvens:inSystem ex:S50 ; hvens:hasEquipClass ex:PA ;
  hvens:diffPressure_barg 4.2 ; hvens:minFlow_m3h 32.8 .

ex:Tag_50_PA51B a hvens:EquipmentTag ;
  hvens:number "50-PA51B" ; hvens:inSystem ex:S50 ; hvens:hasEquipClass ex:PA ;
  hvens:diffPressure_barg 4.2 ; hvens:minFlow_m3h 32.8 .

ex:Tag_50_PA52 a hvens:EquipmentTag ;
  hvens:number "50-PA52" ; hvens:inSystem ex:S50 ; hvens:hasEquipClass ex:PA ;
  hvens:diffPressure_barg 3.8 ; hvens:operatingPressure_barg 6.7 ;
  hvens:designFlow_m3h 150.0 ; hvens:power_kW 27.0 .

# Coarse filter packages
ex:Tag_50_CA50A a hvens:EquipmentTag ;
  hvens:number "50-CA50A" ; hvens:inSystem ex:S50 ; hvens:hasEquipClass ex:CA ;
  hvens:designTempMin_C -9.0 ; hvens:designTempMax_C 50.0 ;
  hvens:operatingPressure_barg 15.0 ; hvens:micronRating "200 µm" .

ex:Tag_50_CA50B a hvens:EquipmentTag ;
  hvens:number "50-CA50B" ; hvens:inSystem ex:S50 ; hvens:hasEquipClass ex:CA ;
  hvens:designTempMin_C -9.0 ; hvens:designTempMax_C 50.0 ;
  hvens:operatingPressure_barg 15.0 ; hvens:micronRating "200 µm" .

########## Protective devices / relief ##########
ex:Tag_50_PSV2031 a hvens:InstrumentTag ;
  hvens:number "50-PSV2031" ; hvens:inSystem ex:S50 ;
  hvens:hasRequirement [ a hvens:Requirement ; rdfs:label "PSV set 15 barg, protects 50-CA50A" ] .

ex:Tag_50_PSV2032 a hvens:InstrumentTag ;
  hvens:number "50-PSV2032" ; hvens:inSystem ex:S50 ;
  hvens:hasRequirement [ a hvens:Requirement ; rdfs:label "PSV set 15 barg, protects 50-CA50B" ] .

ex:Tag_50_PSE4801AB a hvens:InstrumentTag ;
  hvens:number "50-PSE4801A/B" ; hvens:inSystem ex:S50 ;
  hvens:hasRequirement [ a hvens:Requirement ; rdfs:label "Rupture disc set 15 barg @ 27-HA50 aftercooler" ] .

########## Control loops / setpoints / alarms ##########
# Lift pump discharge pressure control
ex:Loop_50_PIC2115 a hvens:ControlLoop ;
  rdfs:label "Lift pump discharge pressure control" ;
  hvens:measuredVar "Pressure" ; hvens:unit "barg" ;
  hvens:hasSetpoint [ a hvens:Setpoint ; hvens:value 9.0 ; hvens:unit "barg" ] ;
  hvens:controls ex:Tag_50_PH50A, ex:Tag_50_PH50B .

# Lift pump minimum flow protection
ex:Loop_50_FIC2112 a hvens:ControlLoop ;
  rdfs:label "Min flow PH50A" ;
  hvens:measuredVar "Flow" ; hvens:unit "m3/h" ;
  hvens:hasSetpoint [ a hvens:Setpoint ; hvens:value 229.0 ; hvens:unit "m3/h" ] ;
  hvens:hasAlarm [ a hvens:Alarm ; hvens:highAlarm 260.0 ; hvens:lowAlarm 200.0 ] ;
  hvens:controls ex:Tag_50_PH50A .

ex:Loop_50_FIC2114 a hvens:ControlLoop ;
  rdfs:label "Min flow PH50B" ;
  hvens:measuredVar "Flow" ; hvens:unit "m3/h" ;
  hvens:hasSetpoint [ a hvens:Setpoint ; hvens:value 229.0 ; hvens:unit "m3/h" ] ;
  hvens:hasAlarm [ a hvens:Alarm ; hvens:highAlarm 260.0 ; hvens:lowAlarm 200.0 ] ;
  hvens:controls ex:Tag_50_PH50B .

# Hot SW to wet gas coolers – demand from PA51A/B
ex:Loop_50_FIC2017 a hvens:ControlLoop ;
  rdfs:label "Hot SW to wet gas coolers from PA51A" ;
  hvens:measuredVar "Flow" ; hvens:unit "m3/h" ;
  hvens:hasSetpoint [ a hvens:Setpoint ; hvens:value 32.8 ; hvens:unit "m3/h" ] ;
  hvens:hasAlarm [ a hvens:Alarm ; hvens:highAlarm 210.0 ; hvens:lowAlarm 60.0 ] ;
  hvens:controls ex:Tag_50_PA51A .

ex:Loop_50_FIC2018 a hvens:ControlLoop ;
  rdfs:label "Hot SW to wet gas coolers from PA51B" ;
  hvens:measuredVar "Flow" ; hvens:unit "m3/h" ;
  hvens:hasSetpoint [ a hvens:Setpoint ; hvens:value 32.8 ; hvens:unit "m3/h" ] ;
  hvens:hasAlarm [ a hvens:Alarm ; hvens:highAlarm 210.0 ; hvens:lowAlarm 60.0 ] ;
  hvens:controls ex:Tag_50_PA51B .

# Hot SW circ. pump protections
ex:Loop_50_FIC4810 a hvens:ControlLoop ;
  rdfs:label "Min flow PA52" ;
  hvens:measuredVar "Flow" ; hvens:unit "m3/h" ;
  hvens:hasAlarm [ a hvens:Alarm ; hvens:highAlarm 160.0 ; hvens:lowAlarm 40.0 ] ;
  hvens:controls ex:Tag_50_PA52 .

ex:Loop_50_PIC4809 a hvens:ControlLoop ;
  rdfs:label "Return backpressure aftercooler" ;
  hvens:measuredVar "Pressure" ; hvens:unit "barg" ;
  hvens:hasSetpoint [ a hvens:Setpoint ; hvens:value 1.5 ; hvens:unit "barg" ] .

# Temperature control reference
ex:Loop_50_TIC2019 a hvens:ControlLoop ;
  rdfs:label "SW to wet gas coolers temperature" ;
  hvens:measuredVar "Temperature" ; hvens:unit "°C" ;
  hvens:hasSetpoint [ a hvens:Setpoint ; hvens:value 12.0 ; hvens:unit "°C" ] ;
  hvens:hasAlarm [ a hvens:Alarm ; hvens:highAlarm 15.0 ; hvens:lowAlarm 10.0 ] .

########## Optional SHACL patterns (kept minimal here) ##########
ex:EquipmentTagShape a sh:NodeShape ;
  sh:targetClass hvens:EquipmentTag ;
  sh:property [
    sh:path hvens:number ;
    sh:datatype xsd:string ;
    sh:pattern "^[0-9]{2}-[A-Z]{2}[0-9]{2}[A-Z]?(\([A-Z0-9]{1,2}\))?$" ;
    sh:message "Equipment tag like '50-PA51A' or '50-CA50B'." ] .

ex:InstrumentTagShape a sh:NodeShape ;
  sh:targetClass hvens:InstrumentTag ;
  sh:property [
    sh:path hvens:number ;
    sh:datatype xsd:string ;
    sh:pattern "^[0-9]{2}-[A-Z]{2,5}[0-9]{3,4}[A-Z]$" ;
    sh:message "Instrument tag like '50-PSV2031'." ] .
